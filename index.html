<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kelimeli Mahjong - Ger√ßek Mahjong Mekaniƒüi</title>
  <style>
    * { box-sizing: border-box; }
    body { 
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; 
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%); 
      color: #e5e7eb; 
      margin: 0; 
      padding: 20px; 
      min-height: 100vh;
    }
    
    .container { max-width: 1400px; margin: 0 auto; }
    
    h1 { 
      text-align: center; 
      margin: 0 0 20px; 
      font-size: 2.5em;
      background: linear-gradient(135deg, #3b82f6, #8b5cf6);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .layout { 
      display: grid; 
      grid-template-columns: 280px 1fr 280px; 
      gap: 20px; 
      align-items: start;
    }
    
    @media (max-width: 1200px) { 
      .layout { grid-template-columns: 1fr; } 
      .sidebar { max-width: 500px; margin: 0 auto; }
    }
    
    .panel { 
      background: rgba(15, 23, 42, 0.8); 
      border: 1px solid #334155; 
      border-radius: 16px; 
      padding: 20px; 
      backdrop-filter: blur(10px);
    }
    
    .panel h3 { 
      margin: 0 0 16px; 
      font-size: 1.3em;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    /* Kontroller */
    .controls { display: flex; flex-direction: column; gap: 12px; }
    .control-group { display: flex; flex-direction: column; gap: 6px; }
    .control-group label { 
      font-size: 0.85em; 
      color: #94a3b8; 
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    select, button, input { 
      background: #1e293b; 
      color: #e5e7eb; 
      border: 1px solid #475569; 
      border-radius: 10px; 
      padding: 12px 16px; 
      font-size: 1em;
      width: 100%;
      transition: all 0.2s;
    }
    
    select:hover, input:hover { border-color: #64748b; }
    
    button { 
      cursor: pointer; 
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    button:hover:not(:disabled) { 
      transform: translateY(-2px); 
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
    }
    
    button.primary { 
      background: linear-gradient(135deg, #3b82f6, #2563eb); 
      border: none;
      color: white;
    }
    
    button.secondary { 
      background: linear-gradient(135deg, #8b5cf6, #7c3aed); 
      border: none;
      color: white;
    }
    
    button.warn { 
      background: linear-gradient(135deg, #dc2626, #b91c1c); 
      border: none;
      color: white;
    }
    
    button:disabled { 
      opacity: 0.5; 
      cursor: not-allowed; 
      transform: none !important;
    }
    
    /* ƒ∞statistikler */
    .stats { 
      display: grid; 
      grid-template-columns: 1fr 1fr; 
      gap: 12px; 
      margin-top: 16px;
    }
    
    .stat-box { 
      background: #0f172a; 
      border: 1px solid #334155; 
      border-radius: 12px; 
      padding: 12px; 
      text-align: center;
    }
    
    .stat-label { 
      font-size: 0.75em; 
      color: #94a3b8; 
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 4px;
    }
    
    .stat-value { 
      font-size: 1.8em; 
      font-weight: 700;
      background: linear-gradient(135deg, #3b82f6, #8b5cf6);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    /* Skorlar */
    .score-list { 
      max-height: 400px; 
      overflow-y: auto; 
    }
    
    .score-item { 
      background: #0f172a; 
      border: 1px solid #334155; 
      border-radius: 10px; 
      padding: 12px; 
      margin-bottom: 8px;
      transition: all 0.2s;
    }
    
    .score-item:hover { 
      border-color: #3b82f6; 
      transform: translateX(4px);
    }
    
    .score-item.top { 
      border: 2px solid #22c55e;
      background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(34, 197, 94, 0.05));
    }
    
    .score-header { 
      display: flex; 
      justify-content: space-between; 
      align-items: center;
      margin-bottom: 6px;
    }
    
    .score-name { 
      font-weight: 700; 
      font-size: 1.1em;
      color: #3b82f6;
    }
    
    .score-points { 
      font-size: 1.3em; 
      font-weight: 700;
      color: #22c55e;
    }
    
    .score-details { 
      font-size: 0.85em; 
      color: #94a3b8; 
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }
    
    /* Oyun Tahtasƒ± */
    .board-container { 
      position: relative; 
      min-height: 500px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .board { 
      position: relative;
      display: inline-block;
    }
    
    .tile { 
      position: absolute;
      width: 80px;
      height: 100px;
      background: linear-gradient(145deg, #f8fafc, #e2e8f0);
      border: 2px solid #cbd5e1;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      font-weight: 700;
      font-size: 14px;
      color: #0f172a;
      cursor: pointer;
      user-select: none;
      transition: all 0.15s ease;
      box-shadow: 
        0 2px 4px rgba(0,0,0,0.1),
        inset 0 1px 0 rgba(255,255,255,0.5);
      padding: 8px;
      word-wrap: break-word;
      line-height: 1.2;
    }
    
    .tile:hover:not(.matched):not(.blocked) { 
      transform: translateY(-4px) scale(1.05); 
      border-color: #3b82f6;
      box-shadow: 
        0 8px 16px rgba(59, 130, 246, 0.3),
        inset 0 1px 0 rgba(255,255,255,0.5);
      z-index: 10000 !important;
    }
    
    .tile.selected { 
      background: linear-gradient(145deg, #dbeafe, #bfdbfe);
      border-color: #3b82f6;
      border-width: 3px;
      transform: translateY(-6px) scale(1.08);
      box-shadow: 
        0 12px 24px rgba(59, 130, 246, 0.4),
        inset 0 1px 0 rgba(255,255,255,0.7);
    }
    
    .tile.matched { 
      background: linear-gradient(145deg, #d1fae5, #a7f3d0);
      border-color: #22c55e;
      color: #065f46;
      animation: matchPulse 0.5s ease;
      pointer-events: none;
    }
    
    .tile.blocked { 
      opacity: 0.4;
      cursor: not-allowed;
      filter: grayscale(0.6);
    }
    
    @keyframes matchPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.15); }
    }
    
    /* Durum mesajlarƒ± */
    .status { 
      text-align: center; 
      margin-top: 20px; 
      font-size: 1.2em;
      font-weight: 600;
      min-height: 30px;
    }
    
    .success { color: #22c55e; }
    .danger { color: #ef4444; }
    .info { color: #3b82f6; }
    
    /* Yardƒ±m */
    .help { 
      background: rgba(59, 130, 246, 0.1); 
      border: 1px solid #3b82f6; 
      border-radius: 10px; 
      padding: 12px; 
      font-size: 0.9em;
      line-height: 1.6;
      margin-top: 16px;
    }
    
    .help-title { 
      font-weight: 700; 
      color: #3b82f6; 
      margin-bottom: 8px;
    }
    
    .badge {
      display: inline-block;
      background: #1e293b;
      border: 1px solid #334155;
      border-radius: 6px;
      padding: 4px 8px;
      font-size: 0.75em;
      font-weight: 600;
      margin: 2px;
    }
    
    .name-display {
      background: #0f172a;
      border: 1px solid #334155;
      border-radius: 8px;
      padding: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }
    
    .player-name {
      font-weight: 700;
      color: #3b82f6;
      font-size: 1.1em;
    }
    
    /* Modal (ƒ∞sim Giri≈ü Ekranƒ±) */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.85);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      backdrop-filter: blur(8px);
      animation: fadeIn 0.3s ease;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    .modal-content {
      background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
      border: 2px solid #3b82f6;
      border-radius: 24px;
      padding: 40px;
      max-width: 500px;
      width: 90%;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
      animation: slideUp 0.4s ease;
    }
    
    @keyframes slideUp {
      from { 
        opacity: 0;
        transform: translateY(30px) scale(0.95);
      }
      to { 
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }
    
    .modal-header {
      text-align: center;
      margin-bottom: 30px;
    }
    
    .modal-title {
      font-size: 2.5em;
      margin: 0 0 10px;
      background: linear-gradient(135deg, #3b82f6, #8b5cf6);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .modal-subtitle {
      color: #94a3b8;
      font-size: 1.1em;
      margin: 0;
    }
    
    .modal-body {
      margin-bottom: 30px;
    }
    
    .input-group {
      margin-bottom: 20px;
    }
    
    .input-label {
      display: block;
      color: #94a3b8;
      font-size: 0.9em;
      font-weight: 600;
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .modal-input {
      width: 100%;
      background: #0f172a;
      border: 2px solid #334155;
      border-radius: 12px;
      padding: 16px;
      color: #e5e7eb;
      font-size: 1.2em;
      font-weight: 600;
      text-align: center;
      transition: all 0.3s;
    }
    
    .modal-input:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.2);
    }
    
    .modal-button {
      width: 100%;
      background: linear-gradient(135deg, #3b82f6, #2563eb);
      border: none;
      border-radius: 12px;
      padding: 16px;
      color: white;
      font-size: 1.2em;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    .modal-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(59, 130, 246, 0.4);
    }
    
    .modal-button:active {
      transform: translateY(0);
    }
    
    .welcome-icons {
      display: flex;
      justify-content: center;
      gap: 20px;
      font-size: 2em;
      margin-bottom: 20px;
      animation: bounce 1s ease infinite;
    }
    
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
  </style>
</head>
<body>
  <!-- ƒ∞sim Giri≈ü Modalƒ± -->
  <div id="nameModal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <div class="welcome-icons">
          <span>üÄÑ</span>
          <span>üéÆ</span>
          <span>üèÜ</span>
        </div>
        <h2 class="modal-title">Ho≈ü Geldiniz!</h2>
        <p class="modal-subtitle">Kelimeli Mahjong'a Ho≈ü Geldiniz</p>
      </div>
      <div class="modal-body">
        <div class="input-group">
          <label class="input-label" for="nameInput">Oyuncu Adƒ±nƒ±z</label>
          <input 
            type="text" 
            id="nameInput" 
            class="modal-input" 
            placeholder="ƒ∞sminizi girin..."
            maxlength="20"
          />
        </div>
      </div>
      <button class="modal-button" id="nameSubmitBtn">
        Oyuna Ba≈üla üöÄ
      </button>
    </div>
  </div>
  <div class="container">
    <h1>üÄÑ Kelimeli Mahjong</h1>
    
    <div class="layout">
      <!-- Sol Panel: Kontroller -->
      <aside class="sidebar panel">
        <h3>‚öôÔ∏è Ayarlar</h3>
        
        <div class="name-display">
          <span class="player-name" id="playerNameLabel">Oyuncu</span>
          <button id="changeNameBtn" style="width: auto; padding: 6px 12px; font-size: 0.85em;">Deƒüi≈ütir</button>
        </div>
        
        <div class="controls">
          <div class="control-group">
            <label>Dil</label>
            <select id="langSelect">
              <option value="en">üá¨üáß ƒ∞ngilizce</option>
              <option value="kr">üá∞üá∑ Korece</option>
            </select>
          </div>
          
          <div class="control-group">
            <label>Seviye</label>
            <select id="levelSelect">
              <option value="easy">Kolay (18 √ßift)</option>
              <option value="medium">Orta (36 √ßift)</option>
              <option value="hard">Zor (72 √ßift)</option>
            </select>
          </div>
          
          <div class="control-group">
            <label>S√ºre</label>
            <select id="timeSelect">
              <option value="180">3 Dakika</option>
              <option value="300">5 Dakika</option>
              <option value="600">10 Dakika</option>
              <option value="0">Sƒ±nƒ±rsƒ±z</option>
            </select>
          </div>
          
          <button class="primary" id="startBtn">üéÆ Oyunu Ba≈ülat</button>
          <button class="secondary" id="hintBtn" disabled>üí° ƒ∞pucu</button>
          <button class="warn" id="resetBtn" disabled>üîÑ Yeniden Ba≈ülat</button>
        </div>
        
        <div class="stats">
          <div class="stat-box">
            <div class="stat-label">S√ºre</div>
            <div class="stat-value" id="timeLeft">0:00</div>
          </div>
          <div class="stat-box">
            <div class="stat-label">Puan</div>
            <div class="stat-value" id="score">0</div>
          </div>
          <div class="stat-box">
            <div class="stat-label">E≈üle≈üme</div>
            <div class="stat-value" id="matches">0/0</div>
          </div>
          <div class="stat-box">
            <div class="stat-label">Hamle</div>
            <div class="stat-value" id="moves">0</div>
          </div>
        </div>
        
        <div class="help">
          <div class="help-title">üìñ Nasƒ±l Oynanƒ±r?</div>
          Sadece <strong>a√ßƒ±k</strong> (√ºzerinde ta≈ü olmayan) ve <strong>yan kenarlarƒ± bo≈ü</strong> ta≈ülar se√ßilebilir. 
          <strong>Yabancƒ± kelime ile T√ºrk√ße anlamƒ±nƒ±</strong> e≈üle≈ütirin! (√ñrn: apple - elma)
          <div style="margin-top:8px">
            <span class="badge">‚úì Doƒüru: +100</span>
            <span class="badge">‚úó Yanlƒ±≈ü: -25</span>
            <span class="badge">üí° ƒ∞pucu: -50</span>
          </div>
        </div>
      </aside>
      
      <!-- Orta Panel: Oyun Tahtasƒ± -->
      <main class="panel">
        <div class="board-container">
          <div id="board" class="board"></div>
        </div>
        <div class="status" id="status"></div>
      </main>
      
      <!-- Saƒü Panel: En ƒ∞yi Skorlar -->
      <aside class="sidebar panel">
        <h3>üèÜ En ƒ∞yi Skorlar</h3>
        <div class="score-list" id="scoreList">
          <div style="text-align: center; color: #64748b; padding: 20px;">
            Hen√ºz skor yok
          </div>
        </div>
        <button class="warn" id="clearScoresBtn" style="margin-top: 12px;">üóëÔ∏è Skorlarƒ± Temizle</button>
      </aside>
    </div>
  </div>

  <script>
    // ===== KELƒ∞ME HAVUZU (Yabancƒ±-T√ºrk√ße √áiftler) =====
    const wordPairs = {
      en: [
        ['apple', 'elma'], ['book', 'kitap'], ['water', 'su'], ['sun', 'g√ºne≈ü'], ['dog', 'k√∂pek'],
        ['house', 'ev'], ['travel', 'seyahat'], ['friend', 'arkada≈ü'], ['music', 'm√ºzik'], ['money', 'para'],
        ['city', '≈üehir'], ['food', 'yemek'], ['work', 'i≈ü'], ['school', 'okul'], ['time', 'zaman'],
        ['day', 'g√ºn'], ['night', 'gece'], ['family', 'aile'], ['love', 'sevgi'], ['game', 'oyun'],
        ['learn', '√∂ƒürenmek'], ['write', 'yazmak'], ['read', 'okumak'], ['think', 'd√º≈ü√ºnmek'], ['speak', 'konu≈ümak'],
        ['listen', 'dinlemek'], ['walk', 'y√ºr√ºmek'], ['run', 'ko≈ümak'], ['jump', 'atlamak'], ['sleep', 'uyumak'],
        ['dream', 'r√ºya'], ['hope', 'umut'], ['peace', 'barƒ±≈ü'], ['truth', 'ger√ßek'], ['light', 'ƒ±≈üƒ±k'],
        ['dark', 'karanlƒ±k'], ['fire', 'ate≈ü'], ['earth', 'toprak'], ['wind', 'r√ºzgar'], ['rain', 'yaƒümur'],
        ['snow', 'kar'], ['cloud', 'bulut'], ['star', 'yƒ±ldƒ±z'], ['moon', 'ay'], ['tree', 'aƒüa√ß'],
        ['flower', '√ßi√ßek'], ['bird', 'ku≈ü'], ['fish', 'balƒ±k'], ['cat', 'kedi'], ['horse', 'at'],
        ['river', 'nehir'], ['ocean', 'okyanus'], ['mountain', 'daƒü'], ['forest', 'orman'], ['desert', '√ß√∂l'],
        ['island', 'ada'], ['bridge', 'k√∂pr√º'], ['road', 'yol'], ['car', 'araba'], ['train', 'tren'],
        ['plane', 'u√ßak'], ['ship', 'gemi'], ['bike', 'bisiklet'], ['phone', 'telefon'], ['computer', 'bilgisayar'],
        ['camera', 'kamera'], ['watch', 'saat'], ['key', 'anahtar'], ['door', 'kapƒ±'], ['window', 'pencere'],
        ['chair', 'sandalye'], ['table', 'masa'], ['bed', 'yatak'], ['lamp', 'lamba'], ['mirror', 'ayna'],
        ['picture', 'resim'], ['pen', 'kalem'], ['paper', 'kaƒüƒ±t'], ['letter', 'mektup'], ['story', 'hikaye'],
        ['song', '≈üarkƒ±'], ['dance', 'dans'], ['paint', 'boya'], ['draw', '√ßizmek'], ['play', 'oynamak'],
        ['teach', '√∂ƒüretmek'], ['help', 'yardƒ±m'], ['smile', 'g√ºl√ºmseme'], ['laugh', 'g√ºlmek'], ['cry', 'aƒülamak'],
        ['happy', 'mutlu'], ['sad', '√ºzg√ºn'], ['angry', 'kƒ±zgƒ±n'], ['calm', 'sakin'], ['brave', 'cesur'],
        ['strong', 'g√º√ßl√º'], ['smart', 'akƒ±llƒ±'], ['kind', 'nazik'], ['good', 'iyi'], ['bad', 'k√∂t√º'],
        ['big', 'b√ºy√ºk'], ['small', 'k√º√ß√ºk'], ['fast', 'hƒ±zlƒ±'], ['slow', 'yava≈ü'], ['hot', 'sƒ±cak'],
        ['cold', 'soƒüuk'], ['new', 'yeni'], ['old', 'eski'], ['young', 'gen√ß'], ['free', '√∂zg√ºr'],
        ['beautiful', 'g√ºzel'], ['ugly', '√ßirkin'], ['clean', 'temiz'], ['dirty', 'kirli'], ['rich', 'zengin'],
        ['poor', 'fakir'], ['easy', 'kolay'], ['hard', 'zor'], ['simple', 'basit'], ['difficult', 'zor']
      ],
      kr: [
        ['ÏÇ¨Í≥º', 'elma'], ['Ï±Ö', 'kitap'], ['Î¨º', 'su'], ['Ìï¥', 'g√ºne≈ü'], ['Í∞ú', 'k√∂pek'],
        ['Ïßë', 'ev'], ['Ïó¨Ìñâ', 'seyahat'], ['ÏπúÍµ¨', 'arkada≈ü'], ['ÏùåÏïÖ', 'm√ºzik'], ['Îèà', 'para'],
        ['ÎèÑÏãú', '≈üehir'], ['ÏùåÏãù', 'yemek'], ['Ïùº', 'i≈ü'], ['ÌïôÍµê', 'okul'], ['ÏãúÍ∞Ñ', 'zaman'],
        ['ÎÇÆ', 'g√ºn'], ['Î∞§', 'gece'], ['Í∞ÄÏ°±', 'aile'], ['ÏÇ¨Îûë', 'sevgi'], ['Í≤åÏûÑ', 'oyun'],
        ['Î∞∞Ïö∞Îã§', '√∂ƒürenmek'], ['Ïì∞Îã§', 'yazmak'], ['ÏùΩÎã§', 'okumak'], ['ÏÉùÍ∞Å', 'd√º≈ü√ºnmek'], ['ÎßêÌïòÎã§', 'konu≈ümak'],
        ['Îì£Îã§', 'dinlemek'], ['Í±∑Îã§', 'y√ºr√ºmek'], ['Îã¨Î¶¨Îã§', 'ko≈ümak'], ['Ï†êÌîÑ', 'atlamak'], ['ÏûêÎã§', 'uyumak'],
        ['Íøà', 'r√ºya'], ['Ìù¨Îßù', 'umut'], ['ÌèâÌôî', 'barƒ±≈ü'], ['ÏßÑÏã§', 'ger√ßek'], ['Îπõ', 'ƒ±≈üƒ±k'],
        ['Ïñ¥Îë†', 'karanlƒ±k'], ['Î∂à', 'ate≈ü'], ['ÎïÖ', 'toprak'], ['Î∞îÎûå', 'r√ºzgar'], ['ÎπÑ', 'yaƒümur'],
        ['Îàà', 'kar'], ['Íµ¨Î¶Ñ', 'bulut'], ['Î≥Ñ', 'yƒ±ldƒ±z'], ['Îã¨', 'ay'], ['ÎÇòÎ¨¥', 'aƒüa√ß'],
        ['ÍΩÉ', '√ßi√ßek'], ['ÏÉà', 'ku≈ü'], ['Î¨ºÍ≥†Í∏∞', 'balƒ±k'], ['Í≥†ÏñëÏù¥', 'kedi'], ['Îßê', 'at'],
        ['Í∞ï', 'nehir'], ['Î∞îÎã§', 'okyanus'], ['ÏÇ∞', 'daƒü'], ['Ïà≤', 'orman'], ['ÏÇ¨Îßâ', '√ß√∂l'],
        ['ÏÑ¨', 'ada'], ['Îã§Î¶¨', 'k√∂pr√º'], ['Í∏∏', 'yol'], ['Ï∞®', 'araba'], ['Í∏∞Ï∞®', 'tren'],
        ['ÎπÑÌñâÍ∏∞', 'u√ßak'], ['Î∞∞', 'gemi'], ['ÏûêÏ†ÑÍ±∞', 'bisiklet'], ['Ï†ÑÌôî', 'telefon'], ['Ïª¥Ìì®ÌÑ∞', 'bilgisayar'],
        ['Ïπ¥Î©îÎùº', 'kamera'], ['ÏãúÍ≥Ñ', 'saat'], ['Ïó¥Ïá†', 'anahtar'], ['Î¨∏', 'kapƒ±'], ['Ï∞ΩÎ¨∏', 'pencere'],
        ['ÏùòÏûê', 'sandalye'], ['ÌÖåÏù¥Î∏î', 'masa'], ['Ïπ®ÎåÄ', 'yatak'], ['Îû®ÌîÑ', 'lamba'], ['Í±∞Ïö∏', 'ayna'],
        ['Í∑∏Î¶º', 'resim'], ['Ìéú', 'kalem'], ['Ï¢ÖÏù¥', 'kaƒüƒ±t'], ['Ìé∏ÏßÄ', 'mektup'], ['Ïù¥ÏïºÍ∏∞', 'hikaye'],
        ['ÎÖ∏Îûò', '≈üarkƒ±'], ['Ï∂§', 'dans'], ['Í∑∏Î¶¨Îã§', 'boyamak'], ['Í∑∏Î¶¨Îã§', '√ßizmek'], ['ÎÜÄÎã§', 'oynamak'],
        ['Í∞ÄÎ•¥ÏπòÎã§', '√∂ƒüretmek'], ['ÎèïÎã§', 'yardƒ±m'], ['ÎØ∏ÏÜå', 'g√ºl√ºmseme'], ['ÏõÉÎã§', 'g√ºlmek'], ['Ïö∏Îã§', 'aƒülamak'],
        ['ÌñâÎ≥µ', 'mutlu'], ['Ïä¨Ìîî', '√ºzg√ºn'], ['ÌôîÎÇ®', 'kƒ±zgƒ±n'], ['Ï∞®Î∂Ñ', 'sakin'], ['Ïö©Í∞ê', 'cesur'],
        ['Í∞ïÌïú', 'g√º√ßl√º'], ['ÎòëÎòë', 'akƒ±llƒ±'], ['ÏπúÏ†à', 'nazik'], ['Ï¢ãÏùÄ', 'iyi'], ['ÎÇòÏÅú', 'k√∂t√º'],
        ['ÌÅ∞', 'b√ºy√ºk'], ['ÏûëÏùÄ', 'k√º√ß√ºk'], ['Îπ†Î•∏', 'hƒ±zlƒ±'], ['ÎäêÎ¶∞', 'yava≈ü'], ['Îú®Í±∞Ïö¥', 'sƒ±cak'],
        ['Ï∞®Í∞ÄÏö¥', 'soƒüuk'], ['ÏÉàÎ°úÏö¥', 'yeni'], ['Ïò§ÎûòÎêú', 'eski'], ['Ï†äÏùÄ', 'gen√ß'], ['ÏûêÏú†', '√∂zg√ºr'],
        ['ÏïÑÎ¶ÑÎã§Ïö¥', 'g√ºzel'], ['Î™ªÏÉùÍ∏¥', '√ßirkin'], ['Íπ®ÎÅóÌïú', 'temiz'], ['ÎçîÎü¨Ïö¥', 'kirli'], ['Î∂ÄÏú†Ìïú', 'zengin'],
        ['Í∞ÄÎÇúÌïú', 'fakir'], ['Ïâ¨Ïö¥', 'kolay'], ['Ïñ¥Î†§Ïö¥', 'zor'], ['Í∞ÑÎã®Ìïú', 'basit'], ['Î≥µÏû°Ìïú', 'karma≈üƒ±k']
      ]
    };

    // ===== MAHJONG D√úZENLERƒ∞ =====
    const layouts = {
      easy: [ // 18 √ßift = 36 ta≈ü
        // Katman 0 (taban)
        {x:1,y:0,z:0},{x:2,y:0,z:0},{x:3,y:0,z:0},{x:4,y:0,z:0},{x:5,y:0,z:0},{x:6,y:0,z:0},
        {x:1,y:1,z:0},{x:2,y:1,z:0},{x:3,y:1,z:0},{x:4,y:1,z:0},{x:5,y:1,z:0},{x:6,y:1,z:0},
        {x:1,y:2,z:0},{x:2,y:2,z:0},{x:3,y:2,z:0},{x:4,y:2,z:0},{x:5,y:2,z:0},{x:6,y:2,z:0},
        {x:1,y:3,z:0},{x:2,y:3,z:0},{x:3,y:3,z:0},{x:4,y:3,z:0},{x:5,y:3,z:0},{x:6,y:3,z:0},
        // Katman 1
        {x:2,y:1,z:1},{x:3,y:1,z:1},{x:4,y:1,z:1},{x:5,y:1,z:1},
        {x:2,y:2,z:1},{x:3,y:2,z:1},{x:4,y:2,z:1},{x:5,y:2,z:1},
        // Katman 2
        {x:3,y:1,z:2},{x:4,y:1,z:2},{x:3,y:2,z:2},{x:4,y:2,z:2}
      ],
      medium: [ // 36 √ßift = 72 ta≈ü
        // Katman 0
        {x:0,y:1,z:0},{x:1,y:1,z:0},{x:2,y:1,z:0},{x:3,y:1,z:0},{x:4,y:1,z:0},{x:5,y:1,z:0},{x:6,y:1,z:0},{x:7,y:1,z:0},
        {x:0,y:2,z:0},{x:1,y:2,z:0},{x:2,y:2,z:0},{x:3,y:2,z:0},{x:4,y:2,z:0},{x:5,y:2,z:0},{x:6,y:2,z:0},{x:7,y:2,z:0},
        {x:0,y:3,z:0},{x:1,y:3,z:0},{x:2,y:3,z:0},{x:3,y:3,z:0},{x:4,y:3,z:0},{x:5,y:3,z:0},{x:6,y:3,z:0},{x:7,y:3,z:0},
        {x:0,y:4,z:0},{x:1,y:4,z:0},{x:2,y:4,z:0},{x:3,y:4,z:0},{x:4,y:4,z:0},{x:5,y:4,z:0},{x:6,y:4,z:0},{x:7,y:4,z:0},
        // Katman 1
        {x:1,y:1,z:1},{x:2,y:1,z:1},{x:3,y:1,z:1},{x:4,y:1,z:1},{x:5,y:1,z:1},{x:6,y:1,z:1},
        {x:1,y:2,z:1},{x:2,y:2,z:1},{x:3,y:2,z:1},{x:4,y:2,z:1},{x:5,y:2,z:1},{x:6,y:2,z:1},
        {x:1,y:3,z:1},{x:2,y:3,z:1},{x:3,y:3,z:1},{x:4,y:3,z:1},{x:5,y:3,z:1},{x:6,y:3,z:1},
        {x:1,y:4,z:1},{x:2,y:4,z:1},{x:3,y:4,z:1},{x:4,y:4,z:1},{x:5,y:4,z:1},{x:6,y:4,z:1},
        // Katman 2
        {x:2,y:2,z:2},{x:3,y:2,z:2},{x:4,y:2,z:2},{x:5,y:2,z:2},
        {x:2,y:3,z:2},{x:3,y:3,z:2},{x:4,y:3,z:2},{x:5,y:3,z:2},
        // Katman 3
        {x:3,y:2,z:3},{x:4,y:2,z:3},{x:3,y:3,z:3},{x:4,y:3,z:3}
      ],
      hard: [ // 72 √ßift = 144 ta≈ü (klasik mahjong)
        // Katman 0
        {x:2,y:0,z:0},{x:3,y:0,z:0},{x:4,y:0,z:0},{x:5,y:0,z:0},{x:6,y:0,z:0},{x:7,y:0,z:0},{x:8,y:0,z:0},{x:9,y:0,z:0},{x:10,y:0,z:0},
        {x:1,y:1,z:0},{x:2,y:1,z:0},{x:3,y:1,z:0},{x:4,y:1,z:0},{x:5,y:1,z:0},{x:6,y:1,z:0},{x:7,y:1,z:0},{x:8,y:1,z:0},{x:9,y:1,z:0},{x:10,y:1,z:0},{x:11,y:1,z:0},
        {x:0,y:2,z:0},{x:1,y:2,z:0},{x:2,y:2,z:0},{x:3,y:2,z:0},{x:4,y:2,z:0},{x:5,y:2,z:0},{x:6,y:2,z:0},{x:7,y:2,z:0},{x:8,y:2,z:0},{x:9,y:2,z:0},{x:10,y:2,z:0},{x:11,y:2,z:0},{x:12,y:2,z:0},
        {x:0,y:3,z:0},{x:1,y:3,z:0},{x:2,y:3,z:0},{x:3,y:3,z:0},{x:4,y:3,z:0},{x:5,y:3,z:0},{x:6,y:3,z:0},{x:7,y:3,z:0},{x:8,y:3,z:0},{x:9,y:3,z:0},{x:10,y:3,z:0},{x:11,y:3,z:0},{x:12,y:3,z:0},
        {x:0,y:4,z:0},{x:1,y:4,z:0},{x:2,y:4,z:0},{x:3,y:4,z:0},{x:4,y:4,z:0},{x:5,y:4,z:0},{x:6,y:4,z:0},{x:7,y:4,z:0},{x:8,y:4,z:0},{x:9,y:4,z:0},{x:10,y:4,z:0},{x:11,y:4,z:0},{x:12,y:4,z:0},
        {x:0,y:5,z:0},{x:1,y:5,z:0},{x:2,y:5,z:0},{x:3,y:5,z:0},{x:4,y:5,z:0},{x:5,y:5,z:0},{x:6,y:5,z:0},{x:7,y:5,z:0},{x:8,y:5,z:0},{x:9,y:5,z:0},{x:10,y:5,z:0},{x:11,y:5,z:0},{x:12,y:5,z:0},
        {x:1,y:6,z:0},{x:2,y:6,z:0},{x:3,y:6,z:0},{x:4,y:6,z:0},{x:5,y:6,z:0},{x:6,y:6,z:0},{x:7,y:6,z:0},{x:8,y:6,z:0},{x:9,y:6,z:0},{x:10,y:6,z:0},{x:11,y:6,z:0},
        {x:2,y:7,z:0},{x:3,y:7,z:0},{x:4,y:7,z:0},{x:5,y:7,z:0},{x:6,y:7,z:0},{x:7,y:7,z:0},{x:8,y:7,z:0},{x:9,y:7,z:0},{x:10,y:7,z:0},
        // Katman 1
        {x:2,y:1,z:1},{x:3,y:1,z:1},{x:4,y:1,z:1},{x:5,y:1,z:1},{x:6,y:1,z:1},{x:7,y:1,z:1},{x:8,y:1,z:1},{x:9,y:1,z:1},{x:10,y:1,z:1},
        {x:2,y:2,z:1},{x:3,y:2,z:1},{x:4,y:2,z:1},{x:5,y:2,z:1},{x:6,y:2,z:1},{x:7,y:2,z:1},{x:8,y:2,z:1},{x:9,y:2,z:1},{x:10,y:2,z:1},
        {x:2,y:3,z:1},{x:3,y:3,z:1},{x:4,y:3,z:1},{x:5,y:3,z:1},{x:6,y:3,z:1},{x:7,y:3,z:1},{x:8,y:3,z:1},{x:9,y:3,z:1},{x:10,y:3,z:1},
        {x:2,y:4,z:1},{x:3,y:4,z:1},{x:4,y:4,z:1},{x:5,y:4,z:1},{x:6,y:4,z:1},{x:7,y:4,z:1},{x:8,y:4,z:1},{x:9,y:4,z:1},{x:10,y:4,z:1},
        {x:2,y:5,z:1},{x:3,y:5,z:1},{x:4,y:5,z:1},{x:5,y:5,z:1},{x:6,y:5,z:1},{x:7,y:5,z:1},{x:8,y:5,z:1},{x:9,y:5,z:1},{x:10,y:5,z:1},
        {x:2,y:6,z:1},{x:3,y:6,z:1},{x:4,y:6,z:1},{x:5,y:6,z:1},{x:6,y:6,z:1},{x:7,y:6,z:1},{x:8,y:6,z:1},{x:9,y:6,z:1},{x:10,y:6,z:1},
        // Katman 2
        {x:3,y:2,z:2},{x:4,y:2,z:2},{x:5,y:2,z:2},{x:6,y:2,z:2},{x:7,y:2,z:2},{x:8,y:2,z:2},{x:9,y:2,z:2},
        {x:3,y:3,z:2},{x:4,y:3,z:2},{x:5,y:3,z:2},{x:6,y:3,z:2},{x:7,y:3,z:2},{x:8,y:3,z:2},{x:9,y:3,z:2},
        {x:3,y:4,z:2},{x:4,y:4,z:2},{x:5,y:4,z:2},{x:6,y:4,z:2},{x:7,y:4,z:2},{x:8,y:4,z:2},{x:9,y:4,z:2},
        {x:3,y:5,z:2},{x:4,y:5,z:2},{x:5,y:5,z:2},{x:6,y:5,z:2},{x:7,y:5,z:2},{x:8,y:5,z:2},{x:9,y:5,z:2},
        // Katman 3
        {x:4,y:3,z:3},{x:5,y:3,z:3},{x:6,y:3,z:3},{x:7,y:3,z:3},{x:8,y:3,z:3},
        {x:4,y:4,z:3},{x:5,y:4,z:3},{x:6,y:4,z:3},{x:7,y:4,z:3},{x:8,y:4,z:3},
        // Katman 4
        {x:5,y:3,z:4},{x:6,y:3,z:4},{x:7,y:3,z:4},
        {x:5,y:4,z:4},{x:6,y:4,z:4},{x:7,y:4,z:4},
        // Katman 5 (tepe)
        {x:6,y:3,z:5},{x:6,y:4,z:5}
      ]
    };

    // ===== DOM Elemanlarƒ± =====
    const langSelect = document.getElementById('langSelect');
    const levelSelect = document.getElementById('levelSelect');
    const timeSelect = document.getElementById('timeSelect');
    const startBtn = document.getElementById('startBtn');
    const resetBtn = document.getElementById('resetBtn');
    const hintBtn = document.getElementById('hintBtn');
    const boardEl = document.getElementById('board');
    const scoreEl = document.getElementById('score');
    const matchesEl = document.getElementById('matches');
    const movesEl = document.getElementById('moves');
    const timeLeftEl = document.getElementById('timeLeft');
    const statusEl = document.getElementById('status');
    const scoreListEl = document.getElementById('scoreList');
    const clearScoresBtn = document.getElementById('clearScoresBtn');
    const playerNameLabel = document.getElementById('playerNameLabel');
    const changeNameBtn = document.getElementById('changeNameBtn');

    // ===== Oyun Durumu =====
    let tiles = [];
    let selectedTile = null;
    let score = 0;
    let moves = 0;
    let matches = 0;
    let totalPairs = 0;
    let gameActive = false;
    let timer = null;
    let timeRemaining = 0;
    const SCORES_KEY = 'mahjong_scores_v3';
    const NAME_KEY = 'mahjong_player_name';

    // ===== Yardƒ±mcƒ± Fonksiyonlar =====
    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function formatTime(seconds) {
      if (seconds === 0) return '‚àû';
      const mins = Math.floor(seconds / 60);
      const secs = seconds % 60;
      return `${mins}:${secs.toString().padStart(2, '0')}`;
    }

    // ===== ƒ∞sim Y√∂netimi (Modal) =====
    const nameModal = document.getElementById('nameModal');
    const nameInput = document.getElementById('nameInput');
    const nameSubmitBtn = document.getElementById('nameSubmitBtn');

    function showNameModal() {
      const savedName = localStorage.getItem(NAME_KEY);
      if (savedName) {
        nameInput.value = savedName;
      }
      nameModal.style.display = 'flex';
      nameInput.focus();
    }

    function hideNameModal() {
      nameModal.style.display = 'none';
    }

    function saveName() {
      let name = nameInput.value.trim();
      if (!name) {
        nameInput.style.borderColor = '#ef4444';
        nameInput.placeholder = 'L√ºtfen bir isim girin!';
        setTimeout(() => {
          nameInput.style.borderColor = '';
          nameInput.placeholder = 'ƒ∞sminizi girin...';
        }, 2000);
        return;
      }
      localStorage.setItem(NAME_KEY, name);
      playerNameLabel.textContent = name;
      hideNameModal();
    }

    nameSubmitBtn.addEventListener('click', saveName);
    nameInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') saveName();
    });

    changeNameBtn.addEventListener('click', showNameModal);

    function getPlayerName() {
      const name = localStorage.getItem(NAME_KEY);
      if (name) {
        playerNameLabel.textContent = name;
        return name;
      }
      showNameModal();
      return 'Oyuncu';
    }

    // ===== Ta≈ü Kontrolleri (Mahjong Kurallarƒ±) =====
    function isTileBlocked(tile) {
      // Ta≈ü √ºzerinde ba≈üka ta≈ü var mƒ± kontrol et
      const above = tiles.find(t => 
        !t.matched && 
        t.z === tile.z + 1 &&
        Math.abs(t.x - tile.x) <= 0.5 &&
        Math.abs(t.y - tile.y) <= 0.5
      );
      if (above) return true;

      // Yan taraflar a√ßƒ±k mƒ± kontrol et
      const leftBlocked = tiles.some(t => 
        !t.matched && 
        t.z === tile.z &&
        t.x === tile.x - 1 &&
        t.y === tile.y
      );
      const rightBlocked = tiles.some(t => 
        !t.matched && 
        t.z === tile.z &&
        t.x === tile.x + 1 &&
        t.y === tile.y
      );

      return leftBlocked && rightBlocked;
    }

    function updateTileStates() {
      tiles.forEach(tile => {
        if (!tile.matched) {
          const blocked = isTileBlocked(tile);
          tile.element.classList.toggle('blocked', blocked);
        }
      });
    }

    // ===== Oyun Kurulumu =====
    function setupGame() {
      // Ayarlarƒ± al
      const lang = langSelect.value;
      const level = levelSelect.value;
      const layout = layouts[level];
      totalPairs = layout.length / 2;

      // Yabancƒ±-T√ºrk√ße kelime √ßiftlerini se√ß
      const pairs = shuffle([...wordPairs[lang]]).slice(0, totalPairs);
      const tileWords = [];
      
      // Her √ßiftten yabancƒ± ve T√ºrk√ße kelimeyi ekle
      pairs.forEach(([foreign, turkish]) => {
        tileWords.push({ word: foreign, pairId: foreign });
        tileWords.push({ word: turkish, pairId: foreign });
      });
      
      shuffle(tileWords);

      // Tahtayƒ± temizle
      boardEl.innerHTML = '';
      tiles = [];
      selectedTile = null;
      score = 0;
      moves = 0;
      matches = 0;

      // Ta≈ülarƒ± olu≈ütur
      layout.forEach((pos, idx) => {
        const tileData = tileWords[idx];
        const tile = {
          x: pos.x,
          y: pos.y,
          z: pos.z,
          word: tileData.word,
          pairId: tileData.pairId, // E≈üle≈üme i√ßin ortak ID
          matched: false,
          element: null
        };

        const div = document.createElement('div');
        div.className = 'tile';
        div.textContent = tile.word;
        
        // Pozisyonlama (3D efekti i√ßin)
        const left = pos.x * 70 - pos.z * 4;
        const top = pos.y * 90 - pos.z * 4;
        const zIndex = pos.z * 100 + pos.y * 10 + pos.x;
        
        div.style.left = left + 'px';
        div.style.top = top + 'px';
        div.style.zIndex = zIndex;

        div.addEventListener('click', () => onTileClick(tile));
        
        tile.element = div;
        tiles.push(tile);
        boardEl.appendChild(div);
      });

      // Tahta boyutunu ayarla
      const maxX = Math.max(...layout.map(p => p.x));
      const maxY = Math.max(...layout.map(p => p.y));
      const maxZ = Math.max(...layout.map(p => p.z));
      boardEl.style.width = (maxX * 70 + 80 + maxZ * 4) + 'px';
      boardEl.style.height = (maxY * 90 + 100 + maxZ * 4) + 'px';

      updateTileStates();
      updateUI();
    }

    // ===== Ta≈ü Tƒ±klama =====
    function onTileClick(tile) {
      if (!gameActive || tile.matched || isTileBlocked(tile)) return;

      if (selectedTile === tile) {
        // Aynƒ± ta≈üa tekrar tƒ±klandƒ±, se√ßimi kaldƒ±r
        tile.element.classList.remove('selected');
        selectedTile = null;
        return;
      }

      if (!selectedTile) {
        // ƒ∞lk ta≈ü se√ßimi
        selectedTile = tile;
        tile.element.classList.add('selected');
      } else {
        // ƒ∞kinci ta≈ü se√ßimi - e≈üle≈üme kontrol√º
        moves++;
        
        // Yabancƒ±-T√ºrk√ße e≈üle≈üme: pairId aynƒ± ama word farklƒ± olmalƒ±
        if (selectedTile.pairId === tile.pairId && selectedTile.word !== tile.word) {
          // E≈üle≈üme ba≈üarƒ±lƒ±!
          selectedTile.matched = true;
          tile.matched = true;
          selectedTile.element.classList.remove('selected');
          selectedTile.element.classList.add('matched');
          tile.element.classList.add('matched');
          
          matches++;
          score += 100;
          
          setTimeout(() => {
            selectedTile.element.style.opacity = '0';
            tile.element.style.opacity = '0';
            selectedTile = null;
            updateTileStates();
            updateUI();
            
            // Oyun bitti mi?
            if (matches === totalPairs) {
              endGame(true);
            }
          }, 500);
        } else {
          // E≈üle≈üme ba≈üarƒ±sƒ±z
          const wrongTile = tile;
          wrongTile.element.classList.add('selected');
          score = Math.max(0, score - 25);
          
          setTimeout(() => {
            selectedTile.element.classList.remove('selected');
            wrongTile.element.classList.remove('selected');
            selectedTile = null;
            updateUI();
          }, 600);
        }
      }
    }

    // ===== UI G√ºncelleme =====
    function updateUI() {
      scoreEl.textContent = score;
      matchesEl.textContent = `${matches}/${totalPairs}`;
      movesEl.textContent = moves;
    }

    // ===== Zamanlayƒ±cƒ± =====
    function startTimer() {
      const timeLimit = parseInt(timeSelect.value);
      if (timeLimit === 0) {
        timeLeftEl.textContent = '‚àû';
        return;
      }

      timeRemaining = timeLimit;
      timeLeftEl.textContent = formatTime(timeRemaining);

      clearInterval(timer);
      timer = setInterval(() => {
        if (!gameActive) return;
        
        timeRemaining--;
        timeLeftEl.textContent = formatTime(timeRemaining);
        
        if (timeRemaining <= 0) {
          endGame(false);
        }
      }, 1000);
    }

    // ===== Oyun Ba≈ülat/Bitir =====
    function startGame() {
      setupGame();
      gameActive = true;
      startBtn.disabled = true;
      resetBtn.disabled = false;
      hintBtn.disabled = false;
      statusEl.innerHTML = '<span class="info">üéÆ Oyun ba≈üladƒ±! ƒ∞yi ≈üanslar!</span>';
      startTimer();
    }

    function endGame(won) {
      gameActive = false;
      clearInterval(timer);
      startBtn.disabled = false;
      resetBtn.disabled = true;
      hintBtn.disabled = true;

      const playerName = localStorage.getItem(NAME_KEY) || 'Oyuncu';
      const lang = langSelect.value;
      const level = levelSelect.value;
      const timeLimit = parseInt(timeSelect.value);

      if (won) {
        statusEl.innerHTML = `<span class="success">üéâ Tebrikler! Oyunu kazandƒ±nƒ±z! Puan: ${score}</span>`;
        
        // Skoru kaydet
        saveScore({
          name: playerName,
          score: score,
          moves: moves,
          lang: lang,
          level: level,
          time: timeLimit === 0 ? 'Sƒ±nƒ±rsƒ±z' : formatTime(timeLimit - timeRemaining),
          date: new Date().toISOString()
        });
      } else {
        statusEl.innerHTML = `<span class="danger">‚è∞ S√ºre doldu! Puan: ${score}</span>`;
      }
    }

    // ===== ƒ∞pucu =====
    hintBtn.addEventListener('click', () => {
      if (!gameActive) return;

      const availableTiles = tiles.filter(t => !t.matched && !isTileBlocked(t));
      const pairs = [];

      for (let i = 0; i < availableTiles.length; i++) {
        for (let j = i + 1; j < availableTiles.length; j++) {
          // pairId aynƒ± ama word farklƒ± olan ta≈ülarƒ± bul
          if (availableTiles[i].pairId === availableTiles[j].pairId && 
              availableTiles[i].word !== availableTiles[j].word) {
            pairs.push([availableTiles[i], availableTiles[j]]);
          }
        }
      }

      if (pairs.length > 0) {
        const [tile1, tile2] = pairs[0];
        tile1.element.style.borderColor = '#f59e0b';
        tile2.element.style.borderColor = '#f59e0b';
        
        setTimeout(() => {
          tile1.element.style.borderColor = '';
          tile2.element.style.borderColor = '';
        }, 2000);
        
        score = Math.max(0, score - 50);
        updateUI();
        statusEl.innerHTML = '<span class="info">üí° ƒ∞pucu g√∂sterildi (-50 puan)</span>';
      } else {
        statusEl.innerHTML = '<span class="danger">‚ùå Uygun e≈üle≈üme bulunamadƒ±!</span>';
      }
    });

    // ===== Skor Y√∂netimi =====
    function saveScore(scoreData) {
      const scores = JSON.parse(localStorage.getItem(SCORES_KEY) || '[]');
      scores.push(scoreData);
      scores.sort((a, b) => b.score - a.score);
      localStorage.setItem(SCORES_KEY, JSON.stringify(scores.slice(0, 20)));
      renderScores();
    }

    function renderScores() {
      const scores = JSON.parse(localStorage.getItem(SCORES_KEY) || '[]');
      
      if (scores.length === 0) {
        scoreListEl.innerHTML = '<div style="text-align: center; color: #64748b; padding: 20px;">Hen√ºz skor yok</div>';
        return;
      }

      const levelNames = {easy: 'Kolay', medium: 'Orta', hard: 'Zor'};
      const langNames = {en: 'üá¨üáß', kr: 'üá∞üá∑'};

      scoreListEl.innerHTML = scores.map((s, i) => `
        <div class="score-item ${i === 0 ? 'top' : ''}">
          <div class="score-header">
            <span class="score-name">${i + 1}. ${s.name}</span>
            <span class="score-points">${s.score}</span>
          </div>
          <div class="score-details">
            <span>${langNames[s.lang]} ${levelNames[s.level]}</span>
            <span>‚è±Ô∏è ${s.time}</span>
            <span>üë£ ${s.moves} hamle</span>
          </div>
        </div>
      `).join('');
    }

    clearScoresBtn.addEventListener('click', () => {
      if (confirm('T√ºm skorlarƒ± silmek istediƒüinizden emin misiniz?')) {
        localStorage.removeItem(SCORES_KEY);
        renderScores();
      }
    });

    // ===== Buton Event Listeners =====
    startBtn.addEventListener('click', startGame);
    resetBtn.addEventListener('click', startGame);

    // ===== ƒ∞lk Y√ºkleme =====
    getPlayerName();
    renderScores();
    setupGame();
  </script>
</body>
</html>
